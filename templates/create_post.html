{% extends "parent.html" %}
{% block header %}
{% endblock %}
{% block title %} Create Post {% endblock %}
{% block content %}
<script src=http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js></script>
<script type = "text/javascript">
    $(document).ready(function() {
        var max      = 10; //maximum input boxes allowed
        var container         = $(".exercises_wrap");
        var exercise      = $(".add_exercise"); //Plus sign id
        var time_exercise = $(".time_exercise");

        var x = 0; //input field count intially
        $(exercise).click(function(e){         e.preventDefault();
            if(x < max){ //maximum number of input field allowed
                x++; //input field increment
                $(container).append('<div class = "pure-u-1"><input type="text" name="text[]" placeholder = "Enter in exercise"/> <input type="text" name="text[]" placeholder = "Enter in # of sets"/> <input type="text" name="text[]" placeholder = "Enter in # of reps"/> <a href="#" class="delete_exercise">delete</a></div>'); //adding new input field
            }
        });
        $(time_exercise).click(function(e){         e.preventDefault();
            if(x < max){ //maximum number of input field allowed
                x++; //input field increment
                $(container).append('<div class = "pure-u-1"><input type="text" name="text[]" placeholder = "Add timed exercise"/> <input type="text" name="text[]" placeholder = "Enter in time spent"/> <a href="#" class="delete_time_exercise">delete</a></div>'); //adding new input field
            }
        });

        $(container).on("click",".delete_exercise", function(e){ //user click on remove text
            e.preventDefault(); $(this).parent('div').remove(); x--;
        })
        $(container).on("click",".delete_time_exercise", function(e){ //user click on remove text
            e.preventDefault(); $(this).parent('div').remove(); x--;
        })
    });

    </script>
    <body>
        <h1 class = "pure-menu-heading ">Create your Gymstagram post!</h1>
        <form class="pure-form pure-form-aligned" method="post" enctype="multipart/form-data" action="{{url_for("upload_post")}}" id = "post_form">

          <fieldset>
              <textarea name = "text" rows = "10" cols = "50">Write a caption...</textarea>
              <br></br>
              <input type="file" name="image" accept="image/jpeg,image/png,image/gif" />
              <div class = "exercises_wrap">
                <div> <button class="add_exercise pure-button">Add Sets/Reps Exercise</button></div>
                <div> <button class="time_exercise pure-button">Add Timed Exercise</button></div>
              </div>
              <button type="submit" class="pure-button pure-button-primary">Submit</button>
          </fieldset>
        </form>
      </body>
{% endblock %}